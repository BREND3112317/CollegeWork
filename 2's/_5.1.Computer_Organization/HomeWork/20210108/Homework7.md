# Homeworl 7
## 7-1
### 1. 計算耗費65%的時間作I/O的系統在將磁碟升級成提供額外50%的處理量後，其整體的加速。
> $28\%(S = 1.2766; f=0.65; k=1.5)$

### 4. 假設你的公司決定需要將某些忙碌的伺服器改成快上30%。工作負擔中的各程序耗費70%的時間使用CPU與30%的時間在I/O上。要得到30%的整體系統加速的話：
- CPU需要快上多少?
    > $CPU須提升49.18\%(S=1.3; f=0.7; k=1.3/((1/1.3)-(1/1.7))=1.4918)$
- 磁碟需要快上多少?
    > $硬碟須提升333\%(S = 1.25; f = 0.3; k=0.3/((1/1.3)-(1-0.3)) = 4.33333)$

### 10. $\color{red}好像不考$安朵定律對軟體與其對硬體般同樣可用。編程中經常提到的一個真相說到程式耗費90%的時間執行其中10%的碼。因此調教程式中少部分的碼往往可以在軟體產品的整體效能上有很大的效果。在下列情形下判斷其整體系統的加速：
- 程式的90%變成執行得10倍那麼快(快上900%)
    > $S = 5.26 (425\%) (f = 0.9; k = 10)$
- 程式的80%變成執行得快上20%
    > $S = 1.15 (15\%) (f = 0.8; k = 1.2)$

### 14. 在程式控制的I/O、插斷驅動的I/O、DMA或通道的I/O中，何者最適於下列應用的I/O處理:
```
滑鼠
遊戲控制器
CD
大拇哥或記憶棒
```
- 說明你的答案。
    > 滑鼠、遊戲控制插斷與程式控制都可以，CD、大拇哥或記憶棒是可借用的面相快的設備較適合DMA

### 28. $\color{green}必考$設一磁碟機具有下列特色：
```
4個面
每面1024個磁軌
每磁軌128個扇區
扇區與扇區找尋時間是5ms
旋轉速度是5,000rpm
```
- 磁碟機的容量是多大?
    > $4*1024*128*512=256MB$
- 存取時間是多少?
    > $(50seconds/5000rpm)*(1000ms/second)]/2=6ms+5ms=11ms$
### 47. 某高效能計算機系統已作為網路上的電子商務伺服器。該系統可支援每小時$10,000的總交易量。估計每小時淨利為$1,200。亦即，若系統停擺，在修復前公司每小時將損失$1,200。而且在損壞磁碟上的所有數據將會遺失。這些數據有部分可以從前一次備份中恢復，其他則永遠消失了。可以想見，時間不巧的磁碟損壞可以造成你公司數十萬的利吉營業額損失以及不可件的成千上萬的永久性營業損失。系統中沒有採用和型態的RAID令你不安。雖然你的主要顧慮是數據完整性與系統的可用性，團隊中其他人則在意系統的效能。他們認為如果在加裝RAID後系統會變慢，長久下來將損失更多的營業額。他們曾明確地說如果系統加上RAID後只能以目前一半的速度運作的話，將會使每小時總營業額下降到每小時$5,000。整體而言，系統中電子商務運算有80%牽涉資料庫交易。資料庫交易中有60%是讀取而40%是寫入。平均磁碟存取時間是20ms。系統中的磁碟都快滿載也都接近使用年限了，應盡快訂購新品。你感覺即使要買額外的磁碟這也是建置RAID的好時機。適合你系統使用的磁碟每10GB一軸價格$2,000。新磁碟的平均存取時間是15ms，MTTF 20,000小時以及MTTR 4小時。你估計需要60GB的容量以容納目前的數據以及未來5年預期的量(所有既有磁碟均須更新)。
- 反對在系統中建置RAID的人認為磁碟慢上50%會導致營業額下降到每小時$5,000的看法是否正確?說明你的看法。
    > 不是沒有道理，畢竟工作就是為了賺錢，但我想任何一產業最基本就是應該進他所能做得來維護他與他人的資產，所以我認為建置RAID是必要的。
- 如果你決定採用RAID-1，你的系統上的平均磁碟存取時間會是若干?
    > 邏輯上寫入操作時間會是原本的2倍，但讀取操作時間是原本的1/2，所以平均訪問時間=0.6*(15ms/2)+0.4*(15ms*2)=4.5ms+12ms=16.5ms<br/>
    > $\color{red}{}0.4 * (15 ms / 2) + 0.6 * (15 ms * 2) = 21 ms.$
- 使用兩組的四個磁碟的RAID-5陣列而且25%的資料庫交易必須等待一個交易完成、磁碟再度有空時，你的系統上的平均磁碟存取時間會是若干?
    > $0.75*15ms+0.25*30ms=11.25ms+7.5ms=18.75ms$
- RAID-1 與 RAID-5 和者有較好的成本效益
    > $$