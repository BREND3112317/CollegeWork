# Homework 5

### 1. 設使用 32 位元整數、以位元組定址的機器，若欲儲存十六進數值 1234 於位址 0 :
- 表示出該值如何儲存於大的端機器中
    ```
    00 00 12 34
    ```
- 表示出該值如何儲存於小的端機器中
    ```
    34 12 00 00
    ```
- 若欲將十六進值增大至 123456，在哪一種位元組安置方法、即大的或小的端中會較有效率? 並說明之
    ```
    小的端，因為只要在開頭進行增大即可
    ```

### 2. 表示出字組大小是 32 位元、以位元組定址的機器會如何以小的端以及大的端格式儲存下列數值。設各值均儲存於位址開始於 1016 的位置。畫一記憶體圖示，就各值對應兩種格式分別將數值置入標註了位址的正確記憶體位置中。
- 0x456789A1

|        | 0x10  | 0x11  | 0x12  | 0x13  |
| ------ | :---: | :---: | :---: | :---: |
| 大的端 |  45   |  67   |  89   |  A1   |
| 小的端 |  A1   |  89   |  67   |  45   |

- 0x0000058A

|        | 0x10  | 0x11  | 0x12  | 0x13  |
| ------ | :---: | :---: | :---: | :---: |
| 大的端 |  00   |  00   |  05   |  8A   |
| 小的端 |  8S   |  05   |  00   |  00   |

- 0x14148888

|        | 0x10  | 0x11  | 0x12  | 0x13  |
| ------ | :---: | :---: | :---: | :---: |
| 大的端 |  14   |  14   |  88   |  88   |
| 小的端 |  88   |  88   |  14   |  14   |

### 3. 設以 16 位元儲存數值且機器採二德補數表示法，試完成下表。

|  整數  |       二進制        | 十六進制 | 四位元組大的端(記憶體中以十六進值表示) | 四位元組小的(記憶體中以十六進值表示) |
| :----: | :-----------------: | :------: | :------------------------------------: | :----------------------------------: |
|   28   | 0000 0000 0001 1100 |   001C   |                  001C                  |                 1C00                 |
|  2216  | 0000 1000 1010 1000 |   08A8   |                  08A8                  |                 A808                 |
| -18675 | 1011 0111 0000 1101 |   B70D   |                  B70D                  |                 0DB7                 |
|  -12   | 1111 1111 1111 0100 |   FFF4   |                  FFF4                  |                 F4FF                 |
| 31456  | 0111 1010 1110 0000 |   7AE0   |                  7AE0                  |                 E07A                 |

### 11. 將下列表示式由中置轉換為反波蘭(後置)表示式
- (8-6)/2
    ```
    8 6 - 2 /
    ```
- (2+3)×8/10
    ```
    2 3 + 8 × 10 /
    ```
- (5×(4+3)×2-6)
    ```
    5 4 3 + × 2 × 6 -
    ```

### 12. 將下列表示式由中置轉換為反波蘭(後置)表示式
- X × Y + W × Z + V × U
    ```
    X Y × W Z × V U × + +
    ```
- W × X + W × (U × V + Z)
    ```
    W X × W U V × Z + × +
    ```
- (W × (X + Y × (U × V)))/(U × (X + Y))
    ```
    W X Y U V × × + × U X Y + × /
    ```
### 19. 設暫存器共 32 個，則 16 位元的指令是否可能以擴充的運作碼來編碼下列指令群? 若是，表示其編碼。若否，說明之。
- 60道具有二暫存器運算元的指令
> $60 * 2^5 * 2^5 = 61440$
- 30道具有一暫存器運算元的指令
> $30 * 2^5 = 960$
- 3道具一個10位元位址的指令
> $3*2^{10} = 3072
- 26道具零個運算元的指令
> $=26$

> $61440+960+3072+26=65,498$<br />
> $(2^{16} = 65536) > 65398$<br />
> 所以可以

[60道具有二暫存器運算元的指令]
```
000000 xxxxx xxxxx
111011 xxxxx xxxxx
111100 跳出運作碼
```
[30道具有一暫存器運算元的指令]
```
111100 xxxxxxxxxx
111110 xxxxxxxxxx
111111 跳出運作碼
```
[3道具一個10位元位址的指令]
```
11111100000 xxxxx
11111111101 xxxxx
11111111110 跳出運作碼
```
[26道具零個運算元的指令]
```
1111111111000000
1111111111011010
```

### 21. 設有一指令 Load 1000。已知記憶體中與 R1 的值如下:
![](https://media.discordapp.net/attachments/786965371860811806/791727765031747594/unknown.png?width=1004&height=732)

### 並設在索引定址模式中 R1 是隱喻的。判斷載入累加器中的值為何，並完成下表：
記憶體
| 模式 Mode      | 載入AC的值 |
| -------------- | :--------: |
| 立即 Immediate |   0x1000   |
| 直接 Direct    |   0x1400   |
| 間皆 Indirect  |   0x1300   |
| 索引 Indexed   |   0x1000   |
### 23. 一個非管道化的系統需時 200ns 以處理一件工作。同樣的工作也可在時脈週期為 40ns 的五階管道中處理。計算管道在處理 200 件這項工作中的加速率。管道化的設計相較於非管道化的設計最大的加速可達若干?
> $SpeedUp = (200ns*200)/((5+200-1)*(40ns)) = 40000/8140 = 4.9019$<br />
> $Max SpeedUp = 5$

### 26. 在三、二、一與零位址機器上撰寫計算表示式 A=(B+C)×(D+E)的碼。依據程式語言的一般作法，計算表示式時不應改變其運算元的值。

| 三位址機器 3-addrsess machine |
| ----------------------------- |
| Add R1, B, C                  |
| Add R2, D, E                  |
| Mult A, R1, R2                |

| 二位址機器 2-addrsess machine |
| ----------------------------- |
| Load R1, B                    |
| Add R1, C                     |
| Load R2, E                    |
| Add R2, E                     |
| Mult R2, R1                   |
| Store A, R2                   |

| 一位址機器 1-addrsess machine |
| ----------------------------- |
| Load B                        |
| Add C                         |
| Store Temp                    |
| Load D                        |
| Add E                         |
| Mult Temp                     |
| Store A                       |

| 零位址機器 0-addrsess machine |
| ----------------------------- |
| Push B                        |
| Push C                        |
| Add                           |
| Push D                        |
| Push E                        |
| Add                           |
| Mult                          |
| Store A                       |