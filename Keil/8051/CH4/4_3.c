/********** 4_3.c *****************************
*動作：令喇叭SPEAK輸出方波,KEY=0增加延時時間
***********************************************/
#include "..\AT89X52.H"   //暫存器及組態定義
sbit   KEY=P3^2;   //按鍵由P32輸入
sbit   SPEAK=P2^6; //P26喇叭輸出 
main() 
{
  unsigned char dly=1;  //延時變數
  while(1)        //不斷循環執行
  {
    SPEAK=!SPEAK;  //SPEAK反相,令喇叭發出聲音
    Delay_ms(dly); //呼叫延時函數,由dly決定延時時間
    if(KEY==0) dly++; //若KEY=0增加延時時間
  }
}